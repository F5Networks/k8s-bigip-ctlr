---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.18.0
  name: transportservers.cis.f5.com
spec:
  group: cis.f5.com
  names:
    kind: TransportServer
    listKind: TransportServerList
    plural: transportservers
    shortNames:
    - ts
    singular: transportserver
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: IP address of virtualServer
      jsonPath: .spec.virtualServerAddress
      name: virtualServerAddress
      type: string
    - description: Port of virtualServer
      jsonPath: .spec.virtualServerPort
      name: virtualServerPort
      type: integer
    - description: Name of service
      jsonPath: .spec.pool.service
      name: pool
      type: string
    - description: Port of service
      jsonPath: .spec.pool.servicePort
      name: poolPort
      type: string
    - description: ipamLabel for transport server
      jsonPath: .spec.ipamLabel
      name: ipamLabel
      type: string
    - description: IP address of transport server
      jsonPath: .status.vsAddress
      name: IPAMVSAddress
      type: string
    - description: status of TransportServer
      jsonPath: .status.status
      name: STATUS
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: TransportServer represents the configuration for a TransportServer
          resource
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            properties:
              allowVlans:
                items:
                  pattern: ^\/[a-zA-Z]+([A-z0-9-_+]+\/)+([-A-z0-9_.]+\/?)*$
                  type: string
                type: array
              bigipRouteDomain:
                format: int32
                maximum: 65535
                minimum: 0
                type: integer
              botDefense:
                pattern: ^\/[a-zA-Z]+([A-z0-9-_+]+\/)+([-A-z0-9_.:]+\/?)*$
                type: string
              connectionMirroring:
                enum:
                - none
                - L4
                type: string
              dos:
                pattern: ^\/[a-zA-Z]+([A-z0-9-_+]+\/)+([-A-z0-9_.:]+\/?)*$
                type: string
              host:
                pattern: ^(([a-zA-Z0-9\*]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$
                type: string
              hostGroup:
                pattern: ^[a-zA-Z]+[-A-z0-9_.:]*[A-z0-9]*$
                type: string
              iRules:
                items:
                  pattern: ^\/[a-zA-Z]+([A-z0-9-_+]+\/)+([-A-z0-9_.:]+\/?)*$
                  type: string
                type: array
              ipamLabel:
                pattern: ^[a-zA-Z]+[-A-z0-9_.:]+[A-z0-9]+$
                type: string
              mode:
                enum:
                - standard
                - performance
                type: string
              partition:
                pattern: ^[a-zA-Z]+[-A-z0-9_.]+$
                type: string
              persistenceProfile:
                pattern: ^\/?[a-zA-Z]+([-A-z0-9_+]+\/)*([-A-z0-9_.:]+\/?)*$
                type: string
              policyName:
                pattern: ^([A-z0-9-_+])*([A-z0-9])$
                type: string
              pool:
                properties:
                  alternateBackends:
                    items:
                      properties:
                        service:
                          pattern: '[a-z]([-a-z0-9]*[a-z0-9])?'
                          type: string
                        serviceNamespace:
                          pattern: ^[a-zA-Z]+([-A-z0-9_.+:])*([A-z0-9])+$
                          type: string
                        weight:
                          format: int32
                          maximum: 256
                          minimum: 0
                          type: integer
                      required:
                      - service
                      type: object
                    type: array
                  hostRewrite:
                    pattern: ^(([a-zA-Z0-9\*]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$
                    type: string
                  loadBalancingMethod:
                    pattern: ^[a-z]+[a-z_-]+[a-z]+$
                    type: string
                  monitor:
                    properties:
                      interval:
                        type: integer
                      name:
                        pattern: ^\/[a-zA-Z]+([A-z0-9-_+]+\/)+([-A-z0-9_.:]+\/?)*$
                        type: string
                      recv:
                        type: string
                      reference:
                        enum:
                        - bigip
                        type: string
                      send:
                        type: string
                      sslProfile:
                        pattern: ^\/([A-z0-9-_+]+\/)+([A-z0-9]+\/?)*$
                        type: string
                      targetPort:
                        format: int32
                        type: integer
                      timeout:
                        type: integer
                      type:
                        type: string
                    type: object
                  monitors:
                    items:
                      properties:
                        interval:
                          type: integer
                        name:
                          pattern: ^\/[a-zA-Z]+([A-z0-9-_+]+\/)+([-A-z0-9_.:]+\/?)*$
                          type: string
                        recv:
                          type: string
                        reference:
                          enum:
                          - bigip
                          type: string
                        send:
                          type: string
                        sslProfile:
                          pattern: ^\/([A-z0-9-_+]+\/)+([A-z0-9]+\/?)*$
                          type: string
                        targetPort:
                          format: int32
                          type: integer
                        timeout:
                          type: integer
                        type:
                          type: string
                      type: object
                    type: array
                  multiClusterServices:
                    items:
                      description: MultiClusterServiceWrapper is a Wrapper around
                        MultiClusterServiceReference that makes ServicePort required
                      properties:
                        clusterName:
                          type: string
                        namespace:
                          type: string
                        service:
                          pattern: '[a-z]([-a-z0-9]*[a-z0-9])?'
                          type: string
                        servicePort:
                          allOf:
                          - anyOf:
                            - type: integer
                            - type: string
                          - anyOf:
                            - type: integer
                            - type: string
                          x-kubernetes-int-or-string: true
                        weight:
                          maximum: 256
                          minimum: 0
                          type: integer
                      required:
                      - clusterName
                      - namespace
                      - service
                      - servicePort
                      type: object
                    type: array
                  name:
                    pattern: ^[a-zA-Z]+([-A-z0-9_.+:])*([A-z0-9])+$
                    type: string
                  nodeMemberLabel:
                    pattern: ^[a-zA-Z0-9][-A-Za-z0-9_.\/]{0,61}[a-zA-Z0-9]=(\s?|""|[a-zA-Z0-9][-A-Za-z0-9_.]{0,61}[a-zA-Z0-9])$
                    type: string
                  path:
                    pattern: ^\/([A-z0-9-_+]+\/)*([-A-z0-9_.:]+\/?)*$
                    type: string
                  reselectTries:
                    format: int32
                    maximum: 65535
                    minimum: 0
                    type: integer
                  rewrite:
                    pattern: ^\/([A-z0-9-_+]+\/)*([-A-z0-9_.:]+\/?)*$
                    type: string
                  service:
                    pattern: '[a-z]([-a-z0-9]*[a-z0-9])?'
                    type: string
                  serviceDownAction:
                    type: string
                  serviceNamespace:
                    pattern: ^[a-zA-Z]+([-A-z0-9_.+:])*([A-z0-9])+$
                    type: string
                  servicePort:
                    anyOf:
                    - type: integer
                    - type: string
                    x-kubernetes-int-or-string: true
                  waf:
                    pattern: ^\/([A-z0-9-_+]+\/)+([A-z0-9]+\/?)*$
                    type: string
                  weight:
                    format: int32
                    maximum: 100
                    minimum: 0
                    type: integer
                type: object
              profileL4:
                pattern: ^\/[a-zA-Z]+([A-z0-9-_+]+\/)+([-A-z0-9_.:]+\/?)*$
                type: string
              profiles:
                properties:
                  tcp:
                    properties:
                      client:
                        pattern: ^\/[a-zA-Z]+([A-z0-9-_+]+\/)+([-A-z0-9_.:]+\/?)*$
                        type: string
                      server:
                        pattern: ^\/[a-zA-Z]+([A-z0-9-_+]+\/)+([-A-z0-9_.:]+\/?)*$
                        type: string
                    type: object
                type: object
              serviceAddress:
                items:
                  properties:
                    arpEnabled:
                      type: boolean
                    icmpEcho:
                      enum:
                      - enable
                      - disable
                      - selective
                      type: string
                    routeAdvertisement:
                      enum:
                      - enable
                      - disable
                      - selective
                      - always
                      - any
                      - all
                      type: string
                    spanningEnabled:
                      type: boolean
                    trafficGroup:
                      pattern: ^\/([A-z0-9-_+]+\/)+([-A-z0-9_.:]+\/?)*$
                      type: string
                  type: object
                maxItems: 1
                type: array
              snat:
                pattern: ^$|^\/?[a-zA-Z]+([-A-z0-9_+]+\/)*([-A-z0-9_.:]+\/?)+$
                type: string
              tls:
                properties:
                  clientSSLs:
                    items:
                      pattern: ^\/?[a-zA-Z]+([-A-z0-9_+]+\/)*([-A-z0-9_.:]+\/?)*$
                      type: string
                    type: array
                  reference:
                    enum:
                    - bigip
                    - secret
                    type: string
                  serverSSLs:
                    items:
                      pattern: ^\/?[a-zA-Z]+([-A-z0-9_+]+\/)*([-A-z0-9_.:]+\/?)*$
                      type: string
                    type: array
                type: object
              type:
                default: tcp
                enum:
                - tcp
                - udp
                - sctp
                type: string
              virtualServerAddress:
                pattern: ^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])|(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$
                type: string
              virtualServerName:
                pattern: ^[a-zA-Z]+([A-z0-9-._+])*([A-z0-9])$
                type: string
              virtualServerPort:
                format: int32
                maximum: 65535
                minimum: 1
                type: integer
            required:
            - mode
            - pool
            - virtualServerPort
            type: object
            x-kubernetes-validations:
            - message: The partition cannot be 'Common' if specified.
              rule: '!has(self.partition) || self.partition != ''Common'''
            - message: partition cannot be modified. Delete the resource and recreate
                with new partition
              rule: has(self.partition) == has(oldSelf.partition) && (!has(self.partition)
                || self.partition == oldSelf.partition)
            - message: '''serviceAddress'' cannot be added when it is not already
                present.'
              rule: '!(has(self.serviceAddress) && !has(oldSelf.serviceAddress))'
            - message: '''serviceAddress'' cannot be deleted when it is present.'
              rule: '!(has(oldSelf.serviceAddress) && !has(self.serviceAddress))'
            - message: either ipamLabel or virtualServerAddress needs to be specified.
              rule: has(self.ipamLabel) || has(self.virtualServerAddress)
          status:
            properties:
              error:
                type: string
              lastUpdated:
                format: date-time
                type: string
              status:
                type: string
              vsAddress:
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
